<div class="layui-field-box">
	<form class="layui-form layui-form-pane1" action="">
		<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
			<ul class="layui-tab-title">
				<li class="layui-this">基本信息</li>					
				<li>域名信息</li>
			</ul>
			<div class="layui-tab-content">
				<div class="layui-tab-item layui-show">
					<div class="layui-form-item">
						<label class="layui-form-label">app名称:</label>
						<div class="layui-input-block">
							<input type="text" name="name" lay-verify='required' value="{$app_info['name']|default=''}" required placeholder="" autocomplete="off" class="layui-input">
							<span class="remark"></span>
						</div>
					</div>
					<div class="layui-form-item">
						<label class="layui-form-label">描述:</label>
						<div class="layui-input-block">
							<input type="text" name="describe" value="{$app_info['describe']|default=''}" required placeholder="" autocomplete="off" class="layui-input">
							<span class="remark"></span>
						</div>
					</div>
					
					<div class="layui-form-item">
						<label class="layui-form-label">版本:</label>
						<div class="layui-input-block">
							<input type="text" name="version" value="{$app_info['version']|default=''}" required placeholder="" autocomplete="off" class="layui-input">
							<span class="remark"></span>
						</div>
					</div>
					<div class="layui-form-item">
						<label class="layui-form-label">排序:</label>
						<div class="layui-input-block">
							<input type="text" name="sort" value="{$app_info['sort']|default='100'}" required placeholder="" autocomplete="off" class="layui-input">
							<span class="remark"></span>
						</div>
					</div>					
				</div>
				<div class="layui-tab-item">
					<div class="layui-form-item">
						<label class="layui-form-label">域名1:</label>
						<div class="layui-input-block">
							<input type="text" name="sort" value="" required placeholder="" autocomplete="off" class="layui-input">
							<span class="remark"></span>
						</div>
					</div>
				</div>				
			</div>
		</div> 
		<div class="layui-form-item">
			<div class="layui-input-block">
				<button class="layui-btn" lay-submit lay-filter="*">提交</button>
				<button class="layui-btn layui-btn-primary">添加域名</button>
			</div>
		</div>
	</form>
</div>

<script>
var vue = new Vue({
	el:'.layui-form',
	data:{
		
	}
});

layui.use(['form','element'], function(){	
	var form = layui.form;

	//自定义验证规则
	form.verify({
		title: function(value){
		  	if(value.length < 5){
		    	return '标题也太短了吧';
		  	}
		}
		,pass: [/(.+){6,12}$/, '密码必须6到12位']
	});


	//事件监听
	form.on('select', function(data){
		console.log(data);
	});

	form.on('select(aihao)', function(data){
		console.log(data);
	});

	form.on('checkbox', function(data){
		console.log(data.elem.checked);
	});

	form.on('switch', function(data){
		console.log(data);
	});

	form.on('radio', function(data){
		console.log(data);
	});

	//监听提交
	form.on('submit(*)', function(data){
		var field = data.field;
		var url = "{:url('',input('param.'))}";

		console.log(url);
		console.log(field);	
		
		//post(field,url);
		var obj = data.elem;
		$intop.post(obj,url,field,function(){
			parent.parent.update_api_manage(false);
			parent.location.href = document.referrer;			  
		});

		return false;
	});
  
});

</script>